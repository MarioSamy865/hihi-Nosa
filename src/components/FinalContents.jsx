import React, { useEffect, useState } from 'react'
import emailjs from '@emailjs/browser';


const FinalContents = () => {
    const [value, setValue] = useState("");

    useEffect(() => {
        return () => {
            if (history.action === 'POP') {
                history.go(1);
            }
        };
    }, [history]);


    const text = "ุทูุจ ุฎูููุง ูุชููู ุฌุฏ ุดููุฉ. ุงูุง ุดููุชู ุจุงูุตุฏูุฉ ุนุงูููุณ ู ููุช ูุนุฌุจ ุจููู ุจุณ ุงูุญูููุฉ ุนูุฑู ูุง ููุช ููููู ุนุดุงู ุงูุง ูุชูุญุฏ ุฌุฏุงุง ู ูุจุญุจุด ุงููู ุญุฏ ูุนุฑููุด (ุชูู ูุงุชุด ุฏูุชููุฒ ูุงู ุฏููุฏ). ุจุณ ุจุนุฏ ูุชุฑุฉ ูุฌุงุฉ ูุฏุง ุจุงูุตุฏูุฉ  ุงูุตูุญุฉ ุจุชุงุนุชู ุงุชูุชุญุช ูุฏุงูู ู ูููุจ ูููุช ูููู  ุชููุชุฑ ูููุจ ูุงู ุงุชูุชุญ ููุญุฏู ุจุฑุถู ุจุงูุตุฏูุฉ ู ูุนุฏุช ุงูุฑุง ุงูุชููุชุณ ุจุชุงุนุชู. ู ุทูู ูุง ุงูุง ุจูุฑุง ุงูุชููุชุณ ุฏูุงุบู ุจุชูููู ุงูู ุญุฏ ุนุงูู ุฌุฏุงุง ู ุงููุง ุดุจู ุจุนุถ ุงูู ู ุงูู ุชุณุชุงููู ุงูู ุงุทูุน ูู ุงูููููุฑุช ุฒููู ุจุชุงุนุชู ู ุงูููู. ู ุนุดุงู ูุฏุง ุนููุช ุงูููุจุณุงูุช ุงูุชุนุจุงู ุงููู ุงูุชู ุดุงููุงู ุฏุง ุนุดุงู ุงูููู ุงููููุชูู ุฏูู.  ู ุงูุตุฑุงุญุฉ ู- appreciate it ุฌุฏุงุง ูู ูุฑุฑุชู ุชุฏู ุงูููุถูุน ูุฑุตุฉ ู ูุชุนุฑู ุนูู ุจุนุถ ุงูุชุฑ. ู  ุจุฑุถู ูู ูุด ุญุงุจุฉ ู ููู ูุงุฑุฏ ูููููุฌุฒ ุฎุงูุต ุจุฌุฏ.  ุงุชููู ุงุตูุง ุชูููู ูุตูุชู ููููุงู ุฏุง ู ูุทูุนุชูุด ูุฑุชุจุทุฉ ูู ุชุงูู ุณูุงู ู ุงูููุจุณุงูุช ููู.";
    const text2 = "ู btw ููุชูุถูุญ ูุนูู ุงูุง ููุช ุจูููู ู ุงูู ุณูุงู keep it secret for now ุนุดุงู ุงูุชู ุทูุนุชููู ู ุงู people u may know ุนุดุงู ุจูููุง mutual friend ุงููู ูู ุณุงูู. ู ุจุนุฏ ูุง ููุจุช ุดููุฉ ุนูุฏู (ุงูุง ุงุณู ุจุฌุฏ ุงูู ููุช ุจ- stalk ุนูููู ุจุณ ููุช ุญุงุจุจ ุงุนุฑู ุนูู ุงูุชุฑ ูุจู ูุง ุงุจุนุชูู) ุงูุชุดูุช ุงูู ูุฑูุจู (ูุด ูุชุงูุฏ ููุฑุจูู ุงูู ุจุณ ุดููู ุงุจู ุฎุงูุชู ุจุณ ูู ูุด ุนูุฏ ุจุงุจุงูู ุนุงูููุณ ู ูุด ูุชุงูุฏ ุงูู ูุนูู) ู ุณุงูู ุจุงููุณุจุงูู ุฒู ุงุฎููุง ุงูุตุบูุฑ ู ุญุงุจุจ ุงู ุงูุง ุงููู ุงุนุฑูู ูุนูู ููุถูุน ุฒู ูุฏุง ุนุดุงู ููุชุถุงููุด. ุจุณ ุทุจุนุง ูุงู ูุงุฒู ุงุนุฑู ุฑุงูู ุงูุงูู. ุงูุง ุจุณ ุจูููู ูู ุงููุตุต ุฏู ุนุดุงู  ูุชูุชูุฑูุด ุงูู ุนุงูุฒ ู- date ูู ูุฑุง ุงููู ุงูุง ุนูุฑู ูุง ูุญุจ ุญุงุฌุฉ ุฒู ูุฏุง ุจุงูุนูุณ ูุจูู ุญุงุจุจ ุงููู ูููููุง ุนุงุฑููู ูู ุญุงุฌุฉ ุฏุงููุง. ู ุงูุง ูุฏุง ูุฏุง ุนุงุฑู ุงูู ูุด ูุชุนููู ุญุงุฌุฉ ูู ูุฑุงูู ุงุตูุง ุจุณ ุญุจูุช ุงูุถุญูู ูุนูู ุงูุฏููุง."
    const text3 = "ู ุจุณ ูุฏุง ููุงูุฉ ุฑุบู. ูู ุญุงุจุฉ ุงููุง ูุชููู ุชุงูู (highly recommended) ู ูููู ุชูุชุจููู ุงู ุญุงุฌุฉ ููุง ุชุญุช ู ุชุจุนุชููุง. ุงู ุจุฑุถู ูููู ูู ุงูููุณ ุงู ุชููุชุฑ as you like ูุนูู."
    const text4 = "ุณุงูุฏ ูููุช: ุจุนุฏ ูุง ุฎูุตุช ูู ุญุงุฌุฉ ู ุฑุฌุนุช ูุฑูุช ูู ุงููู ุงูุง ูุงุชุจู ุชุงูู ุญุณูุช ุงูู ุงูุชุฑ ุงูุณุงู ูุฑููุฌ ู ุงูุนุงูู ๐."

    return (
        <>
            <div className='text-primary text-2xl m-4 font-serif font-extrabold text-center w-fit self-center bg-neutral-800 shadow-2xl shadow-black rounded-2xl border-primary-focus border-2 p-2'>
                <h2 dir='rtl'>{text}</h2>
                <h2 dir='rtl'>{text2}</h2>
                <h2 dir='rtl'>{text3}</h2>
                <h2 dir='rtl'>{text4}</h2>
            </div>
            <div className='flex flex-col lg:flex-row items-center'>
                <textarea name='finalmsg' value={value} onChange={(e) => { setValue(e.target.value) }} id="textArea" className=" shadow-[0px_0px_20px_0px_rgba(0,0,0,0.3)] textarea textarea-primary text-primary-content placeholder:opacity-50 placeholder:text-primary-content placeholder:text-lg m-12 mb-0 h-80 w-[80%]" placeholder="In case You are not sure what you are gonna be for halloween... You can be mine ( ;"></textarea>
                <button onClick={() => { finishHim(value) }} className='bg-secondary-content btn text-white w-40 m-8 hover:bg-secondary-content hover:opacity-80'>
                    Send
                </button>
            </div>
        </>
    );
}

const finishHim = (value) => {
    localStorage.setItem('FinalVisited', true)

    let templateParams = {
        name: localStorage.getItem('username'),
        message: value,
    };
    emailjs.send('service_o4g4imn', 'template_q4mzaa4', templateParams, 'u9SC81GOXSfFtUhpf')


}

export default FinalContents;